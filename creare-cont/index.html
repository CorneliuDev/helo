<!DOCTYPE html>
<html lang="ro">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://unpkg.com/@tailwindcss/browser@4"></script>
    <link rel="shortcut icon" href="../media/favicons/logo-yellow-short.ico" type="image/x-icon">
    <link rel="stylesheet" href="../style.css">
    <title>Creare cont</title>
</head>

<body>
    <a href="../"><img src="../media/logo-yellow-black.svg" alt="" id="logo" class="absolute top-8 left-8 h-15"></a>
   <section class="flex justify-center items-center h-screen w-screen bg-accent p-4">
       <div class="w-200 flex justify-center items-center bg-white rounded-3xl border-accent flex-col p-4 py-10 shadow-implicit">
        <h1 class="text-4xl font-bold mb-8 text-center">Creare cont</h1>
        <form class="flex flex-col w-11/12 max-w-96 gap-3 justify-center items-center" action="#" method="POST"
            id="form">

            <div id="name-input" class="accent-container rounded-2xl w-full flex">
                <img src="../media/icons/name.svg" alt="" class="w-7 mx-3.5">
                <input placeholder="Nume, Prenume" type="text" name="nume" id="" required
                    class="py-3.5 w-full focus:outline-none rounded-lg placeholder:font-medium font-medium placeholder:text-gray-400 placeholder:text-lg text-lg">
            </div>

            <div id="email-input" class="accent-container rounded-2xl w-full flex">
                <img src="../media/icons/email.svg" alt="" class="w-7 mx-3.5">
                <input placeholder="Email" type="email" name="email" id="" required
                    class="py-3.5 w-full focus:outline-none rounded-lg placeholder:font-medium font-medium placeholder:text-gray-400 placeholder:text-lg text-lg">
            </div>

            <div id="pass-input" class="accent-container rounded-2xl w-full flex">
                <img src="../media/icons/password.svg" alt="" class="w-7-5 mx-3.5">
                <input placeholder="Parolă" type="password" name="password" oninput="checkPasswordStrength()" id="pass"
                    required
                    class="py-3.5 w-full focus:outline-none rounded-lg placeholder:font-medium font-medium placeholder:text-gray-400 placeholder:text-lg text-lg">
                <img src="../media/icons/hide.svg" alt="" class="w-12 mx-3.5" id="show-password">
            </div>

            <div id="confirm-input" class="accent-container rounded-2xl w-full flex">
                <img src="../media/icons/password.svg" alt="" class="w-6 mx-3.5">
                <input placeholder="Confirmare parolă" type="password" name="confirmpass" id="confirm-pass" required
                    class="py-3.5 w-full focus:outline-none rounded-lg placeholder:font-medium font-medium placeholder:text-gray-400 placeholder:text-lg text-lg">
            </div>

            <div id="strength-bar" class="w-full rounded-full justify-center h-10">
                <div id="strength-levels" class="flex w-full h-3 gap-2.5">
                    <div id="weak" class="w-1/3 bg-accent border-accent rounded-full"></div>
                    <div id="medium" class="w-1/3 bg-accent border-accent rounded-full"></div>
                    <div id="strong" class="w-1/3 bg-accent border-accent rounded-full"></div>
                </div>
                <p id="strength-text" class="text-lg font-medium text-center leading-10"></p>
            </div>

            <input type="submit" value="CREEAZĂ CONT" id="submit"
                class="bg-[var(--coral)] text-white font-medium w-36 py-4 rounded-2xl shadow-2xl mt-4 transition-all duration-300 transform active:scale-95">
        </form>
        <p class="text-md mt-4 text-gray-700">Ai un cont? <a href="../conectare"
                class="underline">Conectează-te!</a></p>
        </div>
        </section>


    <script>
        const showPassword = document.getElementById("show-password");
        showPassword.onclick = togglePassword;

        const pass = document.getElementById("pass");
        const confirmPass = document.getElementById("confirm-pass");
        function togglePassword() {
            if (pass.type === "password") {
                pass.setAttribute("type", "text");
                confirmPass.setAttribute("type", "text");
                showPassword.src = "../media/icons/show.svg";
            } else {
                pass.setAttribute("type", "password");
                confirmPass.setAttribute("type", "password");
                showPassword.src = "../media/icons/hide.svg";
            }
        }


        function checkPasswordStrength() {
            const passwordString = document.getElementById("pass").value;

            let strength = 0;
            if (passwordString.length >= 8) strength++;
            if (/[A-Z]/.test(passwordString) && passwordString.length >= 8) strength++;
            if (/[0-9]/.test(passwordString) && passwordString.length >= 8) strength++;
            if (/[!@#$%^&*]/.test(passwordString) && passwordString.length >= 8) strength++;

            switch (strength) {
                case 0:
                    document.getElementById("weak").className = "w-1/3 bg-accent border-accent rounded-full";
                    document.getElementById("medium").className = "w-1/3 bg-accent border-accent rounded-full";
                    document.getElementById("strong").className = "w-1/3 bg-accent border-accent rounded-full";
                    document.getElementById("strength-text").innerText = "";
                    break;
                case 1:
                    document.getElementById("weak").className = "w-1/3 bg-red-600 border-accent rounded-full";
                    document.getElementById("medium").className = "w-1/3 bg-accent border-accent rounded-full";
                    document.getElementById("strong").className = "w-1/3 bg-accent border-accent rounded-full";
                    document.getElementById("strength-text").innerText = "Slabă";
                    document.getElementById("strength-text").classList.add("text-red-600");
                    break;
                case 2:
                    document.getElementById("weak").className = "w-1/3 bg-orange-500 border-accent rounded-full";
                    document.getElementById("medium").className = "w-1/3 bg-orange-500 border-accent rounded-full";
                    document.getElementById("strong").className = "w-1/3 bg-accent border-accent rounded-full";
                    document.getElementById("strength-text").innerText = "Medie";
                    document.getElementById("strength-text").classList.add("text-orange-500");
                    break;
                case 3:
                    document.getElementById("weak").className = "w-1/3 bg-green-600 border-accent rounded-full";
                    document.getElementById("medium").className = "w-1/3 bg-green-600 border-accent rounded-full";
                    document.getElementById("strong").className = "w-1/3 bg-green-600 border-accent rounded-full";
                    document.getElementById("strength-text").innerText = "Puternică";
                    document.getElementById("strength-text").classList.add("text-green-600");
                    break;
                case 4:
                    document.getElementById("weak").className = "w-1/3 bg-green-600 border-accent rounded-full";
                    document.getElementById("medium").className = "w-1/3 bg-green-600 border-accent rounded-full";
                    document.getElementById("strong").className = "w-1/3 bg-green-600 border-accent rounded-full";
                    document.getElementById("strength-text").innerText = "Puternică";
                    document.getElementById("strength-text").classList.add("text-green-600");
                    break;
                default:
                    document.getElementById("weak").className = "w-1/3 bg-accent border-accent rounded-full";
                    document.getElementById("medium").className = "w-1/3 bg-accent border-accent rounded-full";
                    document.getElementById("strong").className = "w-1/3 bg-accent border-accent rounded-full";
                    document.getElementById("strength-text").innerText = "";
                    break;
            }
        }


        const form = document.getElementById("form");
        form.addEventListener("submit", (e) => {
            const passwordString = document.getElementById("pass").value;
            const confirmPasswordString = document.getElementById("confirm-pass").value;
            const nameString = document.getElementById("nume").value;
            const emailString = document.getElementById("email").value;


            if (nameString.length === "") {
                e.preventDefault();
                document.getElementById("nume").setCustomValidity("Acest câmp este obligatoriu!");
                return false;
            }
            else if (emailString === "") {
                e.preventDefault();
                document.getElementById("nume").setCustomValidity("Acest câmp este obligatoriu!");
                return false;
            }
            else if (passwordString !== confirmPasswordString) {
                e.preventDefault();
                document.getElementById("confirm-pass").setCustomValidity("Parolele nu trebuie să fie identice!");
                return false;
            }
            else if (passwordString.length < 8) {
                e.preventDefault();
                document.getElementById("pass").setCustomValidity("Parola trebuie sa aiba cel putin 8 caractere!");
                return false;
            }

            return true;

        });

    </script>
</body>

</html>     